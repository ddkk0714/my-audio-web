<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>MP3 Î≤ÑÌäº ÌîåÎ†àÏù¥Ïñ¥</title>
  <style>
    :root{color-scheme:dark;--bg:#0f1220;--panel:#141a33;--btn:#1c2140;--btnHover:#242a60;--border:#2b3170;--borderHover:#3a42a5;--active:#3a42a5;--activeBorder:#6b75ff;--text:#eaeaf0;--muted:rgba(234,234,240,.75);--shadow:rgba(0,0,0,.25);--radius:14px}
    *{box-sizing:border-box}
    body{margin:0;padding:20px;font-family:system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",sans-serif;background:var(--bg);color:var(--text)}
    header{display:flex;flex-wrap:wrap;align-items:end;justify-content:space-between;gap:12px;margin-bottom:14px}
    h1{margin:0;font-size:22px;letter-spacing:.2px}
    .meta{color:var(--muted);font-size:13px}
    .toolbar{display:flex;flex-wrap:wrap;gap:10px;align-items:center}
    input[type="search"]{width:min(520px,100%);padding:10px 12px;border-radius:12px;border:1px solid var(--border);background:var(--panel);color:var(--text);outline:none}
    input[type="search"]:focus{border-color:var(--activeBorder);box-shadow:0 0 0 3px rgba(107,117,255,.18)}
    .controls{display:flex;gap:10px;flex-wrap:wrap}
    .controls button{padding:10px 12px;border-radius:12px;border:1px solid var(--border);background:var(--btn);color:var(--text);cursor:pointer}
    .controls button:hover{background:var(--btnHover);border-color:var(--borderHover)}
    .grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:10px;margin-top:14px}
    .track-btn{background:var(--btn);color:var(--text);border:1px solid var(--border);border-radius:var(--radius);padding:12px 14px;cursor:pointer;transition:transform .05s ease,background .15s ease,border-color .15s ease;text-align:left;box-shadow:0 6px 16px var(--shadow)}
    .track-btn:hover{background:var(--btnHover);border-color:var(--borderHover)}
    .track-btn:active{transform:translateY(1px)}
    .track-btn.playing{background:var(--active);border-color:var(--activeBorder);box-shadow:0 0 0 2px rgba(107,117,255,.22) inset,0 10px 22px var(--shadow)}
    .track-title{font-size:14px;line-height:1.25}
    .track-file{margin-top:6px;font-size:12px;color:var(--muted);word-break:break-all}
    .player-panel{margin-top:16px;padding:14px;border:1px solid var(--border);border-radius:var(--radius);background:var(--panel);box-shadow:0 10px 24px var(--shadow)}
    audio{width:100%;margin-top:10px}
    .now{margin-top:2px;font-size:13px;color:var(--muted)}
  </style>
</head>
<body>
  <header>
    <div>
      <h1>üéß MP3 ÌîåÎ†àÏù¥Î¶¨Ïä§Ìä∏</h1>
      <div class="meta">Ï¥ù <span id="countTotal"></span>Í≥° ¬∑ ÌëúÏãú <span id="countShown"></span>Í≥°</div>
    </div>
    <div class="toolbar">
      <input id="search" type="search" placeholder="Í≤ÄÏÉâ" autocomplete="off" />
      <div class="controls">
        <button id="btnPrev" type="button">‚èÆ Ïù¥Ï†Ñ</button>
        <button id="btnPlayPause" type="button">‚èØ Ïû¨ÏÉù/ÏùºÏãúÏ†ïÏßÄ</button>
        <button id="btnNext" type="button">‚è≠ Îã§Ïùå</button>
      </div>
    </div>
  </header>

  <div class="player-panel">
    <div class="now" id="now">Ïû¨ÏÉù Ï†Ñ</div>
    <audio id="player" controls preload="none"></audio>
  </div>

  <div id="list" class="grid"></div>

  <script>
    const tracks = [{"title": "2wink - TwoWink Circus", "file": "2wink_TwoWink_Circus_66s_86s.mp3"}, {"title": "ALKALOID - Kiss of Life", "file": "ALKALOID_Kiss_of_Life_93s_113s.mp3"}, {"title": "BaekhwaYoran - Hongwolya", "file": "BaekhwaYoran_Hongwolya_53s_73s.mp3"}, {"title": "BLEND+Heart - aid Cafeteria", "file": "BLEND+Heart aid Cafeteria_81s_101s.mp3"}, {"title": "Branco Sweet - Sweet White Song", "file": "Branco Sweet_Sweet_White_Song_85s_105s.mp3"}, {"title": "Butou-kai - FIST OF SOUL", "file": "Butou-kai -  FIST_OF_SOUL_58s_78s.mp3"}, {"title": "CrazyB - Crazy Roulette", "file": "CrazyB_Crazy_Roulette_69s_89s.mp3"}, {"title": "Date - Plan A to Z", "file": "Date_Plan_A_to_Z_52s_72s.mp3"}, {"title": "eden - genesis", "file": "eden_genesis_55s_75s.mp3"}, {"title": "EYE", "file": "EYE_56s_76s.mp3"}, {"title": "Flamb√© - Have you been naughty or nice", "file": "Flamb√© - Have_you_been_naughty_or_nice_68s_88s.mp3"}, {"title": "Getto Spectacle - Moonlight Disco", "file": "Getto Spectacle - Moonlight_Disco_75s_95s.mp3"}, {"title": "JoyfulxBox - Ra bits", "file": "JoyfulxBox_Ra_bits_85s_105s.mp3"}, {"title": "La mort - Noir - Neige", "file": "La mort - Noir_Neige_85s_105s.mp3"}, {"title": "Maehokgeuk", "file": "Maehokgeuk_88s_108s.mp3"}, {"title": "MaM - HELLO NEW YEAR", "file": "MaM_HELLO_NEW_YEAR_61s_81s.mp3"}, {"title": "Melody - in the Dark UNDEAD", "file": "Melody_in_the_Dark_UNDEAD_59s_79s.mp3"}, {"title": "MeteorRanger - Ryuseitai", "file": "MeteorRanger_Ryuseitai_61s_81s.mp3"}, {"title": "Puffy√≠‚îòBunny Paradigm - Reversi", "file": "Puffy√≠‚îòBunny Paradigm_Reversi_82s_102s.mp3"}, {"title": "Rebellion - Star", "file": "Rebellion_Star_67s_87s.mp3"}, {"title": "Ring a bell - Aisle - be with you", "file": "Ring a bell - Aisle_be_with_you_72s_92s.mp3"}, {"title": "Silent - Oath", "file": "Silent_Oath_58s_78s.mp3"}, {"title": "Special - for Princess", "file": "Special_for_Princess_60s_80s.mp3"}, {"title": "Stars - Ensemble OP", "file": "Stars_Ensemble_OP_1s_21s.mp3"}, {"title": "Temptation - Magic", "file": "Temptation_Magic_70s_90s.mp3"}, {"title": "XXVeil Midnight - Butlers", "file": "XXVeil Midnight_Butlers_66s_86s.mp3"}];
    const list = document.getElementById("list");
    const player = document.getElementById("player");
    const now = document.getElementById("now");
    const search = document.getElementById("search");
    const countTotal = document.getElementById("countTotal");
    const countShown = document.getElementById("countShown");
    const btnPrev = document.getElementById("btnPrev");
    const btnNext = document.getElementById("btnNext");
    const btnPlayPause = document.getElementById("btnPlayPause");

    countTotal.textContent = tracks.length;

    let currentIndex = -1;
    let currentBtn = null;
    let buttons = [];

    function setPlayingButton(btn){
      if (currentBtn) currentBtn.classList.remove("playing");
      currentBtn = btn;
      if (currentBtn) currentBtn.classList.add("playing");
    }

    function srcFromFile(file){
      // ‚úÖ ÌååÏùºÎ™ÖÎßå Í∞ïÌïòÍ≤å Ïù∏ÏΩîÎî© (Í≥µÎ∞±/ÌäπÏàòÎ¨∏Ïûê/ÌïúÍ∏Ä/ÏïÖÏÑºÌä∏ ÎåÄÏùë)
      return "audio/" + encodeURIComponent(file);
    }

    async function playIndex(i){
      if (i < 0 || i >= tracks.length) return;
      const t = tracks[i];
      currentIndex = i;

      const btn = buttons[i];
      if (btn) setPlayingButton(btn);

      player.pause();
      player.currentTime = 0;
      player.src = srcFromFile(t.file);
      now.textContent = `Ïû¨ÏÉù Ï§ë: ${t.title}`;

      try{
        await player.play();
      }catch(e){
        now.textContent = `Ïû¨ÏÉù Ïã§Ìå®(Í≤ΩÎ°ú ÌôïÏù∏): ${t.title}`;
        console.error(e);
      }
    }

    function togglePlayPause(){
      if (!player.src) return playIndex(0);
      if (player.paused) player.play().catch(()=>{});
      else player.pause();
    }

    function next(){ playIndex(Math.min((currentIndex>=0?currentIndex+1:0), tracks.length-1)); }
    function prev(){ playIndex(Math.max((currentIndex>=0?currentIndex-1:0), 0)); }

    function render(q=""){
      list.innerHTML = "";
      buttons = [];
      const key = q.trim().toLowerCase();
      let shown = 0;

      tracks.forEach((t, i) => {
        const hay = `${t.title} ${t.file}`.toLowerCase();
        if (key && !hay.includes(key)) return;
        shown++;

        const btn = document.createElement("button");
        btn.className = "track-btn";
        btn.type = "button";
        btn.innerHTML = `
          <div class="track-title">${t.title}</div>
          <div class="track-file">${t.file}</div>
        `;
        btn.onclick = () => playIndex(i);
        list.appendChild(btn);
        buttons[i] = btn;

        if (i === currentIndex) setPlayingButton(btn);
      });

      countShown.textContent = shown;
    }

    search.addEventListener("input", (e) => render(e.target.value));
    btnPrev.addEventListener("click", prev);
    btnNext.addEventListener("click", next);
    btnPlayPause.addEventListener("click", togglePlayPause);

    player.addEventListener("ended", () => {
      if (currentIndex >= 0 && currentIndex < tracks.length - 1) next();
      else { if (currentBtn) currentBtn.classList.remove("playing"); now.textContent = "Ïû¨ÏÉù Ï¢ÖÎ£å"; }
    });

    render("");
  </script>
</body>
</html>
